<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Laravel + MySQL: Complete CRUD API (Blogger-Ready)</title>
  <style>
    :root{
      --bg:#f7fbff;
      --panel:#ffffff;
      --primary:#1976d2;       /* professional light blue */
      --primary-600:#1565c0;
      --accent:#42a5f5;
      --ink:#0f172a;           /* slate-900 */
      --muted:#475569;         /* slate-600 */
      --border:#e2e8f0;        /* slate-200 */
      --code-bg:#0b1220;       /* dark code block */
      --code-ink:#e5f1ff;
      --success:#11998e;
      --danger:#e11d48;
      --radius:16px;
      --shadow:0 10px 30px rgba(2,72,140,.08);
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:linear-gradient(180deg,var(--bg),#eef6ff);
      color:var(--ink);
    }
    .wrap{max-width:1000px;margin:auto;padding:28px 18px}
    header.hero{
      background:radial-gradient(1200px 300px at 50% -10%, #e3f2ff, transparent 60%), var(--panel);
      border:1px solid var(--border); border-radius:var(--radius);
      box-shadow:var(--shadow); padding:32px; position:relative; overflow:hidden
    }
    .hero h1{margin:0 0 10px; font-size:clamp(24px,4vw,38px); color:var(--primary)}
    .hero p{margin:0; color:var(--muted); font-size:clamp(14px,2.2vw,18px)}
    .chips{margin-top:16px; display:flex; flex-wrap:wrap; gap:8px}
    .chip{padding:6px 10px; border-radius:999px; background:#e8f3ff; color:#0b4a86; border:1px solid #d7e9ff; font-size:12px}

    h2{margin:28px 0 12px; font-size:clamp(20px,3vw,28px); color:var(--primary-600)}
    h3{margin:22px 0 10px; font-size:clamp(18px,2.4vw,22px); color:#0b4a86}
    p{line-height:1.7}
    .card{
      background:var(--panel); border:1px solid var(--border); border-radius:var(--radius);
      box-shadow:var(--shadow); padding:20px; margin:18px 0
    }
    .two-col{display:grid; grid-template-columns:1fr; gap:14px}
    @media (min-width:860px){.two-col{grid-template-columns:1fr 1fr}}

    code, pre{font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}
    pre{background:var(--code-bg); color:var(--code-ink); border-radius:14px; padding:16px; overflow:auto; border:1px solid #0e1a33}
    pre .hint{color:#8fb7ff}
    .kbd{display:inline-block;padding:3px 8px;border:1px solid var(--border);border-bottom-width:2px;border-radius:8px;background:#f0f7ff}

    .note{border-left:4px solid var(--accent); background:#f1f8ff}
    .ok{border-left:4px solid var(--success); background:#f2fbf8}
    .warn{border-left:4px solid var(--danger); background:#fff5f7}

    .btnbar{display:flex;flex-wrap:wrap;gap:10px}
    .btn{
      --btn:var(--primary);
      background:linear-gradient(180deg,var(--btn),#0f5aaa);
      color:#fff; text-decoration:none; padding:10px 14px; border-radius:12px; border:1px solid #0e4e96; box-shadow:0 6px 16px rgba(25,118,210,.25);
      font-weight:600; display:inline-flex; align-items:center; gap:8px
    }
    .btn.secondary{--btn:#5bb0ff}

    table { width:100%; border-collapse: collapse; }
    th, td { padding:10px 12px; border-bottom:1px solid var(--border); text-align:left }
    th{background:#eaf3ff; color:#0b4a86}
  </style>
</head>
<body>
  <div class="wrap">
    <header class="hero">
      <h1>Laravel + MySQL: Complete CRUD API</h1>
      <p>Build a clean, production‑ready REST API with <strong>create, read, update, delete</strong>, validation, pagination, and search — then test it with curl/Postman. Copy–paste ready for Blogger.</p>
      <div class="chips">
        <span class="chip">Laravel 10/11</span>
        <span class="chip">PHP ≥ 8.1</span>
        <span class="chip">MySQL ≥ 8</span>
        <span class="chip">JSON API</span>
      </div>
    </header>

    <div class="btnbar" style="margin:18px 0 6px">
      <a class="btn" href="#prereq">Prerequisites</a>
      <a class="btn secondary" href="#routes">Routes</a>
      <a class="btn" href="#controller">Controller</a>
      <a class="btn secondary" href="#tests">Test with curl</a>
    </div>

    <section class="card note" id="prereq">
      <h2>1) Quick Setup</h2>
      <ol>
        <li>Create project: <span class="kbd">composer create-project laravel/laravel crud-api</span></li>
        <li>Configure database in <code>.env</code>:
<pre><code>DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=crud_api
DB_USERNAME=root
DB_PASSWORD=secret
</code></pre>
        </li>
        <li>Run server: <span class="kbd">php artisan serve</span> → <code>http://127.0.0.1:8000</code></li>
      </ol>
    </section>

    <section class="card" id="schema">
      <h2>2) Database & Model</h2>
      <div class="two-col">
        <div>
          <h3>Migration</h3>
<pre><code class="language-php">php artisan make:migration create_items_table

// database/migrations/xxxx_xx_xx_create_items_table.php
&lt;?php
use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    public function up(): void
    {
        Schema::create('items', function (Blueprint $table) {
            $table-&gt;id();
            $table-&gt;string('name');
            $table-&gt;text('description')-&gt;nullable();
            $table-&gt;decimal('price', 10, 2)-&gt;default(0);
            $table-&gt;timestamps();
        });
    }
    public function down(): void
    {
        Schema::dropIfExists('items');
    }
};
</code></pre>
          <p>Apply migration:</p>
<pre><code>php artisan migrate</code></pre>
        </div>
        <div>
          <h3>Model</h3>
<pre><code class="language-php">php artisan make:model Item

// app/Models/Item.php
&lt;?php
namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Item extends Model
{
    use HasFactory;

    protected $fillable = [
        'name', 'description', 'price'
    ];

    protected $casts = [
        'price' =&gt; 'decimal:2',
    ];
}
</code></pre>
        </div>
      </div>
    </section>

    <section class="card" id="requests">
      <h2>3) Validation Requests (optional but clean)</h2>
      <div class="two-col">
        <div>
          <h3>Store Request</h3>
<pre><code class="language-php">php artisan make:request StoreItemRequest

// app/Http/Requests/StoreItemRequest.php
&lt;?php
namespace App\Http\Requests;

use Illuminate\Foundation\Http\FormRequest;

class StoreItemRequest extends FormRequest
{
    public function authorize(): bool { return true; }
    public function rules(): array {
        return [
            'name' =&gt; 'required|string|max:255',
            'description' =&gt; 'nullable|string',
            'price' =&gt; 'nullable|numeric|min:0',
        ];
    }
}
</code></pre>
        </div>
        <div>
          <h3>Update Request</h3>
<pre><code class="language-php">php artisan make:request UpdateItemRequest

// app/Http/Requests/UpdateItemRequest.php
&lt;?php
namespace App\Http\Requests;

use Illuminate\Foundation\Http\FormRequest;

class UpdateItemRequest extends FormRequest
{
    public function authorize(): bool { return true; }
    public function rules(): array {
        return [
            'name' =&gt; 'sometimes|required|string|max:255',
            'description' =&gt; 'nullable|string',
            'price' =&gt; 'nullable|numeric|min:0',
        ];
    }
}
</code></pre>
        </div>
      </div>
    </section>

    <section class="card" id="controller">
      <h2>4) Controller (CRUD + search + pagination)</h2>
<pre><code class="language-php">php artisan make:controller Api/ItemController

// app/Http/Controllers/Api/ItemController.php
&lt;?php
namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Http\Requests\StoreItemRequest;
use App\Http\Requests\UpdateItemRequest;
use App\Models\Item;
use Illuminate\Http\Request;

class ItemController extends Controller
{
    // GET /api/items?q=&amp;per_page=
    public function index(Request $request)
    {
        $q = $request-&gt;query('q');
        $perPage = (int) $request-&gt;query('per_page', 10);

        $items = Item::query()
            -&gt;when($q, fn($query) =&gt; $query-&gt;where(function($x) use ($q){
                $x-&gt;where('name','like',"%{$q}%")
                  -&gt;orWhere('description','like',"%{$q}%");
            }))
            -&gt;orderByDesc('id')
            -&gt;paginate($perPage)
            -&gt;withQueryString();

        return response()-&gt;json($items);
    }

    // POST /api/items
    public function store(StoreItemRequest $request)
    {
        $item = Item::create($request-&gt;validated());
        return response()-&gt;json([
            'message' =&gt; 'Item created successfully',
            'data' =&gt; $item,
        ], 201);
    }

    // GET /api/items/{item}
    public function show(Item $item)
    {
        return response()-&gt;json($item);
    }

    // PUT/PATCH /api/items/{item}
    public function update(UpdateItemRequest $request, Item $item)
    {
        $item-&gt;update($request-&gt;validated());
        return response()-&gt;json([
            'message' =&gt; 'Item updated successfully',
            'data' =&gt; $item,
        ]);
    }

    // DELETE /api/items/{item}
    public function destroy(Item $item)
    {
        $item-&gt;delete();
        return response()-&gt;json(['message' =&gt; 'Item deleted successfully'], 204);
    }
}
</code></pre>
      <p class="warn" style="padding:12px 16px;border-radius:12px">If you prefer inline validation, you can validate with <code>$request-&gt;validate([...])</code> directly in <code>store</code>/<code>update</code> and remove the FormRequest classes.</p>
    </section>

    <section class="card" id="routes">
      <h2>5) Routes</h2>
<pre><code class="language-php">// routes/api.php
use App\Http\Controllers\Api\ItemController;
use Illuminate\Support\Facades\Route;

Route::apiResource('items', ItemController::class);
</code></pre>
      <p class="ok" style="padding:12px 16px;border-radius:12px"><strong>Result:</strong> The following endpoints are available: <code>GET /api/items</code>, <code>POST /api/items</code>, <code>GET /api/items/{id}</code>, <code>PUT/PATCH /api/items/{id}</code>, <code>DELETE /api/items/{id}</code>.</p>
    </section>

    <section class="card" id="responses">
      <h2>6) Standard JSON Responses</h2>
      <table>
        <thead><tr><th>Action</th><th>Status</th><th>Body (shape)</th></tr></thead>
        <tbody>
          <tr><td>Index</td><td><code>200 OK</code></td><td>Laravel paginator JSON (data, links, meta...)</td></tr>
          <tr><td>Store</td><td><code>201 Created</code></td><td>{ message, data: Item }</td></tr>
          <tr><td>Show</td><td><code>200 OK</code></td><td>Item</td></tr>
          <tr><td>Update</td><td><code>200 OK</code></td><td>{ message, data: Item }</td></tr>
          <tr><td>Delete</td><td><code>204 No Content</code></td><td>(empty)</td></tr>
        </tbody>
      </table>
    </section>

    <section class="card" id="tests">
      <h2>7) Testing with curl</h2>
      <p>Assuming server at <code>http://127.0.0.1:8000</code>.</p>
<pre><code># List items (search &amp; pagination)
curl "http://127.0.0.1:8000/api/items?q=laptop&amp;per_page=5"

# Create item
curl -X POST "http://127.0.0.1:8000/api/items" \
  -H "Content-Type: application/json" \
  -d '{"name":"Laptop","description":"Dell Inspiron 15","price":49999}'

# Show one
curl "http://127.0.0.1:8000/api/items/1"

# Update item
curl -X PUT "http://127.0.0.1:8000/api/items/1" \
  -H "Content-Type: application/json" \
  -d '{"price":45999, "description":"Price dropped"}'

# Delete item
curl -X DELETE "http://127.0.0.1:8000/api/items/1"
</code></pre>
    </section>

    <section class="card note" id="postman">
      <h2>8) Postman Quick Tips</h2>
      <ul>
        <li>Create a collection, set base URL variable <code>{{base}} = http://127.0.0.1:8000</code>.</li>
        <li>Add requests: <code>GET {{base}}/api/items</code>, <code>POST {{base}}/api/items</code> etc.</li>
        <li>Body → raw → JSON for POST/PUT.</li>
      </ul>
    </section>

    <section class="card" id="auth">
      <h2>9) Optional: Secure with Laravel Sanctum</h2>
      <ol>
        <li><code>composer require laravel/sanctum</code></li>
        <li><code>php artisan vendor:publish --provider="Laravel\Sanctum\SanctumServiceProvider"</code> then <code>php artisan migrate</code></li>
        <li>Add middleware group in <code>app/Http/Kernel.php</code> (if not present): <code>'api' =&gt; [\Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful::class,'throttle:api',\Illuminate\Routing\Middleware\SubstituteBindings::class,]</code></li>
        <li>Protect routes:
<pre><code class="language-php">Route::middleware('auth:sanctum')
    -&gt;apiResource('items', ItemController::class);
</code></pre>
        </li>
      </ol>
      <p class="warn" style="padding:12px 16px;border-radius:12px">For public demos, keep it open. For production, add auth and rate limiting.</p>
    </section>

    <section class="card ok" id="wrapup">
      <h2>10) Done ✅</h2>
      <p>You now have a complete Laravel + MySQL CRUD API with search and pagination, clean validation, and clear JSON responses. Drop it behind Sanctum/Passport when going live.</p>
      <p><strong>Next ideas:</strong> request/response resources (Eloquent API Resources), soft deletes, sorting by any field, OpenAPI (Swagger) docs with <code>l5-swagger</code>.</p>
    </section>

    <footer style="text-align:center; color:var(--muted); padding:24px 8px">
      Made with ❤️ in a professional light blue theme.
    </footer>
  </div>
</body>
</html>
